<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />

    <title>Hello, world!</title>
  </head>
  <body>
    <h1>Hello, world!</h1>

    <div style="height: 100%; overflow: scroll; overflow-x: scroll">
      <div id="factoreal-landing-page_123"></div>
      <script>
        console.log("Script 1 into execution");
        var page_url = new URL(location.href);
        console.log(page_url, "pageurl ---------------> 1");
        var redirectParams = page_url.searchParams.get("rdir");
        console.log(redirectParams, "redirectParams ---------------> 1");
        var failureParams = page_url.searchParams.get("messages");
        console.log(failureParams, "failureParams ---------------> 1");
        var cid = page_url.searchParams.get("cid");
        console.log(cid, "cid ---------------> 1");
        var successParams = page_url.searchParams.get("rval");
        console.log(successParams, "successParams ---------------> 1");
        var divId = page_url.searchParams.get("rval_pos");
        console.log(divId, "divId ---------------> 1");
        var search = window.location.search.slice(1);
        console.log(search, "search ---------------> 1");
        var utmSrc = "",
          utmMed = "",
          utmCamp = "";
        var resources = search.includes("&") ? search.split("&") : [];
        console.log(resources, "resources ---------------> 1");
        resources.forEach(function (el) {
          if (el.includes("utm_source")) {
            utmSrc = el.split("=")[1];
          }
          if (el.includes("utm_campaign")) {
            utmCamp = el.split("=")[1];
          }
          if (el.includes("utm_medium")) {
            utmMed = el.split("=")[1];
          }
        });
        var url =
          "https://optimus.factoreal.info/api/v1/exportlandingpage?landingpage=495bf0466a06f4ba463c1f94aa1d178c49f335677013f7059398187fc1d4faedonyTdVxf3+K8EM/EU6v2zg==207beaf041e6355a1a1a200a74456cd6423d3c483daee0eb19c25715d98def8b";
        if (utmSrc) {
          url = url + "&utm_source=" + utmSrc;
        }
        if (utmCamp) {
          url = url + "&utm_campaign=" + utmCamp;
        }
        if (utmMed) {
          url = url + "&utm_medium=" + utmMed;
        }
        if (cid) {
          url = url + "&contact_id=" + cid;
        }
        console.log(url, "url ---------------> 1");
        if (window.document.cookie) {
          var cookieArr = document.cookie.split(";");
          for (var i = 0; i < cookieArr.length; i++) {
            var cookiePair = cookieArr[i].split("=");
            if ("ftreal_visitor" === cookiePair[0].trim()) {
              url = url + "&visitor_id=" + decodeURIComponent(cookiePair[1]);
            }
          }
        }
        console.log(url, "url ---------------> 11");
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function () {
          if (this.readyState == 4 && this.status == 200) {
            document.getElementById(
              "factoreal-landing-page_123"
            ).innerHTML = this.responseText;
            console.log(divId, "div-----------------------> 1");
            var formElement = document.getElementById(divId);
            console.log(formElement, "formElement --------------------> 1");
            if (successParams && formElement) {
              console.log(
                "Inside formElement if --------------->1",
                formElement
              );
              formElement.innerHTML = "";
              console.log("formElement inside if -----------------> 11");
              console.log(formElement);
              var successsMessageDiv = document.createElement("div");
              successsMessageDiv.innerHTML = successParams;
              successsMessageDiv.style.color = "#000000";
              successsMessageDiv.style.textAlign = "center";
              successsMessageDiv.style.fontSize = "20px";
              formElement.appendChild(successsMessageDiv);
            }
            console.log(
              formElement,
              "formelement after successif----------------------> 1"
            );
            if (failureParams) {
              var errorMessageDiv = document.createElement("div");
              errorMessageDiv.innerHTML = failureParams;
              errorMessageDiv.style.color = "#ff4500";
              formElement.appendChild(errorMessageDiv);
            }
            console.log(
              formElement,
              "formelement after failureif----------------------> 1"
            );
            if (
              !successParams &&
              document.getElementsByName("landing_page_url").length &&
              window.location
            ) {
              document
                .getElementsByName("landing_page_url")
                .forEach(function (obj) {
                  obj.value =
                    window.location.protocol +
                    "//" +
                    window.location.host +
                    window.location.pathname;
                });
            }
            if (redirectParams) {
              window.top.location.href = redirectParams;
            }
            console.log(
              redirectParams,
              "redirectParams after redirectParams if----------------------> 1"
            );
          }
        };
        console.log(url, "url ----------------------------->1");
        xhttp.open("GET", url, true);
        xhttp.send();
        console.log("end of script 1");
      </script>
    </div>

    <p>Going to next line</p>

    <p>Going to next line</p>
    <p>Going to next line</p>
    <p>Going to next line</p>
    <p>Going to next line</p>

    <div style="height: 100%; overflow: scroll; overflow-x: scroll">
      <div id="factoreal-landing-page_122"></div>
      <script>
        console.log("Script 2 into execution");
        var page_url = new URL(location.href);
        console.log(page_url, "pageurl ---------------> 2");
        var redirectParams = page_url.searchParams.get("rdir");
        console.log(redirectParams, "redirectParams ---------------> 2");
        var failureParams = page_url.searchParams.get("messages");
        console.log(failureParams, "failureParams ---------------> 2");
        var cid = page_url.searchParams.get("cid");
        console.log(cid, "cid ---------------> 2");
        var successParams = page_url.searchParams.get("rval");
        console.log(successParams, "successParams ---------------> 2");
        var divId = page_url.searchParams.get("rval_pos");
        console.log(divId, "divId ---------------> 2");
        var search = window.location.search.slice(1);
        console.log(search, "search ---------------> 2");
        var utmSrc = "",
          utmMed = "",
          utmCamp = "";
        var resources = search.includes("&") ? search.split("&") : [];
        console.log(resources, "resources ---------------> 2");
        resources.forEach(function (el) {
          if (el.includes("utm_source")) {
            utmSrc = el.split("=")[1];
          }
          if (el.includes("utm_campaign")) {
            utmCamp = el.split("=")[1];
          }
          if (el.includes("utm_medium")) {
            utmMed = el.split("=")[1];
          }
        });
        var url =
          "https://optimus.factoreal.info/api/v1/exportlandingpage?landingpage=bded5acf9e6ae97a3ddf360036c67a0c9636e8fec8d23272b6c0aae32ebec0e1nTj7U69066JPlvHA7sD3VQ==ae7745227378c64823a1e3849c9a76a43a3e68d1883c676cf4ac8cb199807f95";
        if (utmSrc) {
          url = url + "&utm_source=" + utmSrc;
        }
        if (utmCamp) {
          url = url + "&utm_campaign=" + utmCamp;
        }
        if (utmMed) {
          url = url + "&utm_medium=" + utmMed;
        }
        if (cid) {
          url = url + "&contact_id=" + cid;
        }
        console.log(url, "url ---------------> 2");
        if (window.document.cookie) {
          var cookieArr = document.cookie.split(";");
          for (var i = 0; i < cookieArr.length; i++) {
            var cookiePair = cookieArr[i].split("=");
            if ("ftreal_visitor" === cookiePair[0].trim()) {
              url = url + "&visitor_id=" + decodeURIComponent(cookiePair[1]);
            }
          }
        }
        console.log(url, "url ---------------> 22");
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function () {
          if (this.readyState == 4 && this.status == 200) {
            document.getElementById(
              "factoreal-landing-page_122"
            ).innerHTML = this.responseText;
            console.log(divId, "divId-----------------------> 2");
            var formElement = document.getElementById(divId);
            console.log("formElement ----------------------->2");
            console.log(formElement);
            if (successParams && formElement) {
              formElement.innerHTML = "";
              console.log("formElement inside if -------------> 2");
              console.log(formElement);
              var successsMessageDiv = document.createElement("div");
              successsMessageDiv.innerHTML = successParams;
              successsMessageDiv.style.color = "#000000";
              successsMessageDiv.style.textAlign = "center";
              successsMessageDiv.style.fontSize = "20px";
              formElement.appendChild(successsMessageDiv);
            }
            console.log(
              formElement,
              "formElement after successif -------------> 22"
            );
            if (failureParams) {
              var errorMessageDiv = document.createElement("div");
              errorMessageDiv.innerHTML = failureParams;
              errorMessageDiv.style.color = "#ff4500";
              formElement.appendChild(errorMessageDiv);
            }
            console.log(
              formElement,
              "formElement after failureif -------------> 22"
            );
            if (
              !successParams &&
              document.getElementsByName("landing_page_url").length &&
              window.location
            ) {
              document
                .getElementsByName("landing_page_url")
                .forEach(function (obj) {
                  obj.value =
                    window.location.protocol +
                    "//" +
                    window.location.host +
                    window.location.pathname;
                });
            }
            if (redirectParams) {
              window.top.location.href = redirectParams;
            }
            console.log(
              redirectParams,
              "redirectParams after redirectParams if----------------------> 2"
            );
          }
        };
        console.log(url, "url before call -------------> 22");
        xhttp.open("GET", url, true);
        xhttp.send();
        console.log("End of script 2");
      </script>
    </div>

    <p>Next</p>
    <p>Next</p>
    <p>Next</p>
    <p>Next</p>

    <div style="height: 100%; overflow: scroll; overflow-x: scroll">
      <div id="factoreal-landing-page_124"></div>
      <script>
        console.log("Script 3 execution begins");
        var page_url = new URL(location.href);
        console.log(page_url, "pageurl ---------------> 3");
        var redirectParams = page_url.searchParams.get("rdir");
        console.log(redirectParams, "redirectParams ---------------> 3");
        var failureParams = page_url.searchParams.get("messages");
        console.log(failureParams, "failureParams ---------------> 3");
        var cid = page_url.searchParams.get("cid");
        console.log(cid, "cid ---------------> 3");
        var successParams = page_url.searchParams.get("rval");
        console.log(successParams, "successParams ---------------> 3");
        var divId = page_url.searchParams.get("rval_pos");
        console.log(divId, "divId ---------------> 3");
        var search = window.location.search.slice(1);
        console.log(search, "search ---------------> 3");
        var utmSrc = "",
          utmMed = "",
          utmCamp = "";
        var resources = search.includes("&") ? search.split("&") : [];
        console.log(resources, "resources ---------------> 3");
        resources.forEach(function (el) {
          if (el.includes("utm_source")) {
            utmSrc = el.split("=")[1];
          }
          if (el.includes("utm_campaign")) {
            utmCamp = el.split("=")[1];
          }
          if (el.includes("utm_medium")) {
            utmMed = el.split("=")[1];
          }
        });
        var url =
          "https://optimus.factoreal.info/api/v1/exportlandingpage?landingpage=ab4928b1a5a09237c1b490adb04e4219be995fb95988715d3de7cc174c682525s90iwO1rQ6nhvq/7cFp20Q==e0ee97bbbe6057748a1ad86905fe825be68e55f99cc6b4a748d8f0046f7ac01f";
        if (utmSrc) {
          url = url + "&utm_source=" + utmSrc;
        }
        if (utmCamp) {
          url = url + "&utm_campaign=" + utmCamp;
        }
        if (utmMed) {
          url = url + "&utm_medium=" + utmMed;
        }
        if (cid) {
          url = url + "&contact_id=" + cid;
        }
        console.log(url, "url ---------------> 3");
        if (window.document.cookie) {
          var cookieArr = document.cookie.split(";");
          for (var i = 0; i < cookieArr.length; i++) {
            var cookiePair = cookieArr[i].split("=");
            if ("ftreal_visitor" === cookiePair[0].trim()) {
              url = url + "&visitor_id=" + decodeURIComponent(cookiePair[1]);
            }
          }
        }
        console.log(url, "url ---------------> 33");
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function () {
          if (this.readyState == 4 && this.status == 200) {
            document.getElementById(
              "factoreal-landing-page_124"
            ).innerHTML = this.responseText;
            console.log(divId, "divId-----------------------> 33");
            var formElement = document.getElementById(divId);
            console.log(formElement, "fomrelement ------------------>3");
            if (successParams && formElement) {
              formElement.innerHTML = "";
              console.log(
                formElement,
                "fomrelement inside if ------------------------>3"
              );
              var successsMessageDiv = document.createElement("div");
              successsMessageDiv.innerHTML = successParams;
              successsMessageDiv.style.color = "#000000";
              successsMessageDiv.style.textAlign = "center";
              successsMessageDiv.style.fontSize = "20px";
              formElement.appendChild(successsMessageDiv);
            }
            console.log(
              formElement,
              "formElement after success if ------------------------>3"
            );
            if (failureParams) {
              var errorMessageDiv = document.createElement("div");
              errorMessageDiv.innerHTML = failureParams;
              errorMessageDiv.style.color = "#ff4500";
              formElement.appendChild(errorMessageDiv);
            }
            console.log(
              formElement,
              "formElement after failureif ------------------------>3"
            );
            if (
              !successParams &&
              document.getElementsByName("landing_page_url").length &&
              window.location
            ) {
              document
                .getElementsByName("landing_page_url")
                .forEach(function (obj) {
                  obj.value =
                    window.location.protocol +
                    "//" +
                    window.location.host +
                    window.location.pathname;
                });
            }
            if (redirectParams) {
              window.top.location.href = redirectParams;
            }
            console.log(
              redirectParams,
              "redirectParams after redirectParams if----------------------> 3"
            );
          }
        };
        console.log(url, "url before end of script ------------------------>3");
        xhttp.open("GET", url, true);
        xhttp.send();
        console.log("End of script 3");
      </script>
    </div>

    <p>Next line</p>
    <p>Next line</p>
    <p>Next line</p>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script
      src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
      integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
      integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
